---
layout: post
title: "Shibuya.rbに初参加したよ！"
date: 2012-02-16 21:34
comments: true
categories: [ruby, event]
---

2012/02/15(水)にVOYAGE GROUPさんで開催された、Shibuya.rbに初参加した。

## ソースコードリーディング

今回はRackミドルウェアのソースコードリーディングというテーマで。おっと、そもそも、Rackについて詳しく知らないなーって思って、基礎知識は学習した上で望んだ。

<!-- more -->

## Chanko

クックパッドさんが提供している[Chanko](https://github.com/cookpad/chanko)のソースコードを読むチームへ参加した。Chankoは新機能を既存コードから出来るだけ切り離した状態で、本番環境にてユーザーのロールによって有効化、無効化を簡単に制御出来る。本番環境で試せるってのはメリットあるなと思う。

チーム内には、そもそも、Chankoがどういったモノなのか理解している人が居なかったので、まずは、Chankoを利用して作られている[サンプル](https://github.com/cookpad/chanko_sample)を動かしてみよう！って事になった。

で、皆でローカルへ持ってきて動かしてみたんだけど、なんかログがダーっ！とスゴイ勢いで流れて不穏な雰囲気。でも、なんとなく画面は表示された。ChankoのREADMEを読めば分かるが、active_ifというメソッド内で機能の有効化、無効化が出来る。このサンプルではデフォルトでtrueになっている為、機能が有効になるじはずだが、これが何故か有効にならない。どうもRailsのバージョンが3.2なのがマズイらしく、3.1に落として実行すると正常に動作した。詳しくは下記を参照すると良い。

[http://d.hatena.ne.jp/InvokeTwoA/20120131](http://d.hatena.ne.jp/InvokeTwoA/20120131)

なるほど、trueをfalseに変更すると機能が切り離される。ユーザーのロールの判別は、lib/chanko/active_if/active_if.rbにChanko::ActiveIf.defineで定義したモノを、active_ifで利用するんですねー。と、まぁ、Chankoの一部機能を理解するだけで、ほぼ終わってしまいました・・・。

### 感想

そもそも、自分はコードリーディング自体をそんなにやってない為、どう進めるべきかも分からずで。慣れてる人が居れば、少しは違った結果になったかもしれん。自分のレベルの低さが露呈したな。

あんまりインプット出来なくて悔しい思いはしたが、収穫はあった。まず、自分は想像以上にRuby分かってねーなー！という事。なんとなーくしか、ソースが追えない。これはイカン。もっと、ソースコード読まねば！という思いに駆られた事は収穫。これを機にChankoを読み進めてみるかと思ったら、既に[エントリー](http://a-newcomer.com/tags/chanko/)が挙がっていましたね。慣れない内は、このエントリーを見ながらお勉強っすね。

## LT大会

さて、途中でLTもありました。

### [@kyanny](http://twitter.com/kyanny)さんによるRemazeとSequelのお話し。

詳しくは、ご本人の[エントリー](http://blog.kyanny.me/entry/2012/02/16/004715)を参照。Remazeの存在すら知りませんでしたね。Sequelは何かの参考書に記述があったような気が。とにかく、どちらも手軽そうな感じですね。

### [@joker1007](http://twitter.com/joker1007)さんによるpryなお話し。

詳しくは、ご本人の[エントリー](http://d.hatena.ne.jp/joker1007/20120215/1329327751)を参照。pry良いですよね。なんで今までこーゆーの無かったのか不思議なくらいに便利。

## まとめ

最後に、懇親会にも参加しましたが、皆色々と詳しくてスゲーなー！の一言。最近、業務でゴリゴリとコード書いてる訳でも無いし、差があって当然なんだけど。でも、逆にそれが刺激になって楽しい。そして、 @tyabe さんが同じ大学出身で同じ年齢で、同じキャンパスに居たという事実に驚いた。多分、一度くらいスレ違ってるだろうなー。

とても良い刺激になったので、また次回、Shibuya.rbに参加してみたいと思う。